
<div class="container">
    <app-nav></app-nav>
    
    <div class="firstContainer" id="hola">
        <div class="menu">
        
            <h1>{{getProjectService.project.projectName}}</h1>
            <button mat-raised-button (click)="openDialog('0ms', '0ms')">Compartir</button>
        </div>
        <div class="secondContainer" cdkDropListGroup>
            <div *ngFor="let list of listDivs" class="divList">
                <div class="containerMore">
                    <button class="more" (click)="mostrar = list._id"></button>
                    <div class="divMore" *ngIf="mostrar === list._id">
                        <button id="closeMore" (click)="mostrar = ''"></button>
                        <p>Actions</p>
                        <button (click)="mostrar = list.name">Add Task</button>
                        <button (click)="deleteList(list._id)">Remove List</button>
                    </div>
                </div>
                <h2 class="title">{{list.name}}</h2>
    
                <div class="containerTask"  cdkDropList [cdkDropListData]="list.tasks" (cdkDropListDropped)="drop($event, list)" [ngStyle]="getContainerTaskStyles(list.tasks)">
                    <div class="divTask" *ngFor="let task of list.tasks" cdkDrag (cdkDragStarted)="onDragStart(task)" (click)="openDialogTask(task._id)">
                        <div class="custom-placeholder" *cdkDragPlaceholder></div>
                        <h3 class="taskName">{{task?.name}}</h3>
                        <p id="deadline">{{task?.deadline}}</p>
                        
                    </div>
                </div>
                <div class="containerCreateNewTask">

                    <input class="inputCreateTask" type="text" placeholder="Introduzca un titulo" *ngIf="mostrar === list.name" [(ngModel)]="newTaskToCreate.name">
                    <div class="containerButtons">
                        <button class="add" *ngIf="mostrar === list.name" (click)="createNewTask()">A単adir tarea</button>
                        <button class="cancel" *ngIf="mostrar === list.name" (click)="newTask('')"></button>
                    </div>
                    <button class="buttonAddTask" *ngIf="mostrar !== list.name" (click)="newTask(list)">A単ada una tarea</button>
                </div>
    
            </div>
            <div class="containerAddNewList" *ngIf="newList === true">
                <input type="text"  [(ngModel)]="nameList">
                <div class="containerButtons">
                    <button class="add" (click)="addNewList()">A単adir lista</button>
                    <button class="cancel" (click)="newList = !newList"></button>
                </div>
            </div>
            <button class="buttonAddList" *ngIf="newList === false" (click)="newList = !newList">A単adir otra lista</button>
        </div>
    </div>
</div>
